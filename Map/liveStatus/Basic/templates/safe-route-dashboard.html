<!DOCTYPE html>
<html>
  <head>
    <title>Safe Route Dashboard</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin="" />
<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js" integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>
    <style>
      /* CSS styles for the body */
      body {
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
      }

      /* CSS styles for the header */
      header {
        background-color: #ff6347;
        color: white;
        padding: 20px;
        text-align: center;
      }

      /* CSS styles for the main content */
      main {
        margin: 20px;
      }

      /* CSS styles for the boxes */
      .box {
        background-color: #f5f5f5;
        padding: 20px;
        margin-bottom: 20px;
        border-radius: 10px;
        box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.2);
      }

      /* CSS styles for the headings */
      h2 {
        margin-top: 0;
      }

      /* CSS styles for the buttons */
      button {
        padding: 10px;
        background-color: white;
        color: #ff6347;
        font-size: 16px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }

      button:hover {
        background-color: #ff6347;
        color: white;
      }

      /* CSS styles for the map container */
      #map {
        height: 500px;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Safe Route Dashboard</h1>
    </header>
    <main>
      <div class="box">
        <h2>Recent Incidents</h2>
        <p>No recent incidents have been reported.</p>
        <button>Report Incident</button>
      </div>
      <div class="box">
        <h2>Route Planner</h2>
        <p>Enter your starting point and destination to plan a safe route.</p>
        <form>
          <label for="start">Starting Point:</label>
          <input type="text" id="start" name="start"><br><br>
          <label for="destination">Destination:</label>
          <input type="text" id="destination" name="destination"><br><br>
          <button type="submit">Plan Route</button>
        </form>
      </div>
      <div class="box">
        <h2>Map</h2>
        <div id="map"></div>
      </div>
    </main>
    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>
    <script src="./data/point.js"></script>
    <script src="./data/polygon.js"></script>
    
    
    <script>
        // Map initialization 
        var map = L.map('map').setView([25.3949, 84.1241],8);
    
    
    
        /*==============================================
                    TILE LAYER and WMS
        ================================================*/
        //osm layer
        var osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        });
        osm.addTo(map);
        // map.addLayer(osm)
    
        // water color 
        var watercolor = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}', {
            attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
            subdomains: 'abcd',
            minZoom: 1,
            maxZoom: 16,
            ext: 'jpg'
        });
        // watercolor.addTo(map)
    
        // dark map 
        var dark = L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
            subdomains: 'abcd',
            maxZoom: 19
        });
        // dark.addTo(map)
    
        // google street 
        googleStreets = L.tileLayer('http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}', {
            maxZoom: 20,
            subdomains: ['mt0', 'mt1', 'mt2', 'mt3']
        });
        // googleStreets.addTo(map);
    
        //google satellite
        googleSat = L.tileLayer('http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}', {
            maxZoom: 20,
            subdomains: ['mt0', 'mt1', 'mt2', 'mt3']
        });
        // googleSat.addTo(map)
    
        var wms = L.tileLayer.wms("http://localhost:8080/geoserver/wms", {
            layers: 'geoapp:admin',
            format: 'image/png',
            transparent: true,
            attribution: "wms test"
        });
    
    
    
    
        /*==============================================
                            MARKER
        ================================================*/
        var myIcon = L.icon({
            iconUrl: 'img/red_marker.png',
            iconSize: [40, 40],
        });
        var singleMarker = L.marker([25.9644, 85.2722], { icon: myIcon, draggable: true });
        var popup = singleMarker.bindPopup('Flooded Place. ' + singleMarker.getLatLng()).openPopup()
        popup.addTo(map);
    
        var secondMarker = L.marker([25.5263,86.9269], { icon: myIcon, draggable: true });
    
        console.log(singleMarker.toGeoJSON())
    
    
        /*==============================================
                    GEOJSON
        ================================================*/
        var pointData = L.geoJSON(pointJson).addTo(map)
        var polygonData = L.geoJSON(polygonJson, {
            onEachFeature: function (feature, layer) {
                layer.bindPopup(`<b>Name: </b>` + feature.properties.name)
            },
            style: {
                fillColor: 'red',
                fillOpacity: 1,
                color: '#c0c0c0',
            }
        }).addTo(map);
        
